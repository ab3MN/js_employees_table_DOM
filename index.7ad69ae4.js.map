{"mappings":"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","sources":["<anon>","src/scripts/main.js","src/scripts/constants/DomElements.js","src/scripts/employeeView.js","src/scripts/templates/employeesTableTemplate.js","src/scripts/employeeForm.js","src/scripts/notification.js","src/scripts/templates/employeeFormTemplate.js","src/scripts/utils/formatSalary.js","src/scripts/sortEmployees.js","src/scripts/utils/sort.js"],"sourcesContent":["const $ff3840e7a85969d9$export$fbea82a1c0574ef4 = document.querySelector(\"body\");\nconst $ff3840e7a85969d9$export$1646ff658d018633 = document.querySelector(\"tbody\");\nconst $ff3840e7a85969d9$export$59d4b79733084898 = document.querySelector(\"thead tr\");\n\n\nconst $632f16fd8e9a919c$var$template = (employee)=>`\n        <tr>\n          <td>${employee.name}</td>\n          <td>${employee.position}</td>\n          <td>${employee.office}</td>\n          <td>${employee.age}</td>\n          <td>${employee.salary}</td>\n        </tr>`;\nvar $632f16fd8e9a919c$export$2e2bcd8739ae039 = $632f16fd8e9a919c$var$template;\n\n\n\nconst $71d642b50f4f34fc$var$ROOT = document.querySelector(\"body\");\nconst $71d642b50f4f34fc$var$createDomNode = (type, classes)=>{\n    const domNode = document.createElement(type);\n    domNode.classList.add(...classes);\n    return domNode;\n};\nconst $71d642b50f4f34fc$var$notification = (type, title)=>{\n    const container = $71d642b50f4f34fc$var$createDomNode(\"div\", [\n        \"notification\",\n        type\n    ]);\n    container.dataset.qa = \"notification\";\n    container.innerHTML = `<h2 class=\"title\">${title}</h2>`;\n    $71d642b50f4f34fc$var$ROOT.append(container);\n    setTimeout(()=>{\n        container.style.display = \"none\";\n    }, 2000);\n};\nvar $71d642b50f4f34fc$export$2e2bcd8739ae039 = $71d642b50f4f34fc$var$notification;\n\n\nconst $098346a99d3f27f9$var$template = `\n      <label for=\"name\">\n        Name:\n        <input\n          data-qa=\"name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n        />\n      </label>\n\n      <label for=\"position\">\n        Position:\n        <input\n          data-qa=\"position\"\n          type=\"text\"\n          name=\"position\"\n          id=\"position\"\n        />\n      </label>\n\n      <label for=\"office\">\n        Office:\n        <select name=\"office\" data-qa=\"office\">\n          <option\n            value=\"Tokyo\"\n            selected\n          >\n            Tokyo\n          </option>\n          <option value=\"Singapore\">Singapore</option>\n          <option value=\"London\">London</option>\n          <option value=\"New York\">New York</option>\n          <option value=\"Edinburgh\">Edinburgh</option>\n          <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n\n      <label for=\"age\">\n        Age:\n        <input\n          data-qa=\"age\"\n          type=\"number\"\n          name=\"age\"\n          id=\"age\"\n        />\n      </label>\n\n      <label for=\"salary\">\n        Salary:\n        <input\n          data-qa=\"salary\"\n          type=\"number\"\n          name=\"salary\"\n          id=\"salary\"\n        />\n      </label>\n\n      <button type=\"submit\">Save to table</button>`;\nvar $098346a99d3f27f9$export$2e2bcd8739ae039 = $098346a99d3f27f9$var$template;\n\n\n\nconst $9dcd52e4f83bda00$export$5cc41387108a21a4 = (salary)=>salary.replace(/[$,]/g, \"\");\nconst $9dcd52e4f83bda00$export$177a7f32e1eb2ece = (number)=>{\n    let result = \"\";\n    let counter = 0;\n    const numberToString = String(number);\n    for(let i = numberToString.length - 1; i >= 0; i--){\n        result += numberToString[i];\n        counter += 1;\n        if (counter % 3 === 0 && i !== 0) result += \",\";\n    }\n    result = `$${result.split(\"\").reverse().join(\"\")}`;\n    return result;\n};\n\n\nclass $b5328ad001f3858c$var$EmployeeForm {\n    state = {\n        name: null,\n        position: null,\n        office: null,\n        age: null,\n        salary: null\n    };\n    createForm() {\n        const form = document.createElement(\"form\");\n        form.classList.add(\"new-employee-form\");\n        form.innerHTML = (0, $098346a99d3f27f9$export$2e2bcd8739ae039);\n        form.addEventListener(\"submit\", this.handleSubmit);\n        form.addEventListener(\"change\", this.handleChange);\n        return form;\n    }\n    handleSubmit = (e)=>{\n        e.preventDefault();\n        if (!this.isValid()) return;\n        const template = (0, $632f16fd8e9a919c$export$2e2bcd8739ae039)(this.state);\n        (0, $ff3840e7a85969d9$export$1646ff658d018633).innerHTML += template;\n        (0, $71d642b50f4f34fc$export$2e2bcd8739ae039)(\"success\", `The ${this.state.name} was added`);\n        this.reset();\n        e.target.reset();\n    };\n    isValid() {\n        const { age: age, position: position, office: office, salary: salary } = this.state;\n        if (!this.state.name || !position || !age || !office || !salary) {\n            (0, $71d642b50f4f34fc$export$2e2bcd8739ae039)(\"error\", `All the fields are required`);\n            return false;\n        }\n        if (this.state.name.length < 4) {\n            (0, $71d642b50f4f34fc$export$2e2bcd8739ae039)(\"error\", `Minimum name length is 4 `);\n            return false;\n        }\n        if (!isNaN(this.state.name) || !isNaN(position)) {\n            (0, $71d642b50f4f34fc$export$2e2bcd8739ae039)(\"error\", `Name and position must be string`);\n            return false;\n        }\n        if (age < 18 || age > 90) {\n            (0, $71d642b50f4f34fc$export$2e2bcd8739ae039)(\"error\", `Age must be greater than 18 and less than 90`);\n            return false;\n        }\n        return true;\n    }\n    handleChange = (e)=>{\n        if (e.target.name === \"salary\") this.state[e.target.name] = (0, $9dcd52e4f83bda00$export$177a7f32e1eb2ece)(e.target.value);\n        else this.state[e.target.name] = e.target.value;\n    };\n    reset() {\n        this.state = {\n            name: null,\n            position: null,\n            office: null,\n            age: null,\n            salary: null\n        };\n    }\n}\nconst $b5328ad001f3858c$var$employeeForm = new $b5328ad001f3858c$var$EmployeeForm();\nvar $b5328ad001f3858c$export$2e2bcd8739ae039 = $b5328ad001f3858c$var$employeeForm;\n\n\n\nconst $37d85e44191ae1ed$var$enumEmployeeType = {\n    0: \"name\",\n    1: \"position\",\n    2: \"office\",\n    3: \"age\",\n    4: \"salary\"\n};\nclass $37d85e44191ae1ed$var$EmployeeView {\n    activeRow = null;\n    employees = [];\n    constructor(){\n        this.employees = this.getEmployeesData();\n        this.addRowListeners();\n        (0, $ff3840e7a85969d9$export$fbea82a1c0574ef4).append((0, $b5328ad001f3858c$export$2e2bcd8739ae039).createForm());\n    }\n    createTemplate(employees) {\n        return employees.map((employee)=>(0, $632f16fd8e9a919c$export$2e2bcd8739ae039)(employee)).join(\"\");\n    }\n    getEmployeesData() {\n        const employees = [];\n        for (const row of (0, $ff3840e7a85969d9$export$1646ff658d018633).rows){\n            const employee = Array.from(row.cells).reduce((acc, next, i)=>{\n                acc[$37d85e44191ae1ed$var$enumEmployeeType[i]] = next.textContent;\n                return acc;\n            }, {});\n            employees.push(employee);\n        }\n        return employees;\n    }\n    drawEmployeeView = (employees)=>{\n        (0, $ff3840e7a85969d9$export$1646ff658d018633).innerHTML = this.createTemplate(employees);\n    };\n    addRowListeners() {\n        (0, $ff3840e7a85969d9$export$1646ff658d018633).addEventListener(\"click\", (e)=>{\n            const row = e.target.closest(\"tr\");\n            if (row) this.changeActiveRow(row);\n        });\n    }\n    changeActiveRow(row) {\n        if (this.activeRow && this.activeRow !== row) this.activeRow.classList.remove(\"active\");\n        this.activeRow = row;\n        this.activeRow.classList.add(\"active\");\n    }\n}\nvar $37d85e44191ae1ed$export$2e2bcd8739ae039 = $37d85e44191ae1ed$var$EmployeeView;\n\n\n\nconst $d2f2d5bf9dc20c1e$export$fe4f7a3cec9ce3e6 = (arr, key, type = \"asc\")=>type === \"asc\" ? [\n        ...arr\n    ].sort((a, b)=>a[key] - b[key]) : [\n        ...arr\n    ].sort((a, b)=>b[key] - a[key]);\nconst $d2f2d5bf9dc20c1e$export$da07c9b2d0075182 = (arr, key, type = \"asc\")=>type === \"asc\" ? [\n        ...arr\n    ].sort((a, b)=>a[key].localeCompare(b[key])) : [\n        ...arr\n    ].sort((a, b)=>b[key].localeCompare(a[key]));\nconst $d2f2d5bf9dc20c1e$export$808abc9a3093f3ea = (employees, type = \"asc\")=>{\n    if (type === \"asc\") return [\n        ...employees\n    ].sort((a, b)=>(0, $9dcd52e4f83bda00$export$5cc41387108a21a4)(a.salary) - (0, $9dcd52e4f83bda00$export$5cc41387108a21a4)(b.salary));\n    return [\n        ...employees\n    ].sort((a, b)=>(0, $9dcd52e4f83bda00$export$5cc41387108a21a4)(b.salary) - (0, $9dcd52e4f83bda00$export$5cc41387108a21a4)(a.salary));\n};\n\n\nclass $c83a851858cf2a8c$var$SortEmployees {\n    sortEmployees(employees, type, sortType) {\n        switch(type){\n            case \"name\":\n            case \"position\":\n            case \"office\":\n                return (0, $d2f2d5bf9dc20c1e$export$da07c9b2d0075182)(employees, type, sortType);\n            case \"age\":\n                return (0, $d2f2d5bf9dc20c1e$export$fe4f7a3cec9ce3e6)(employees, type, sortType);\n            case \"salary\":\n                return (0, $d2f2d5bf9dc20c1e$export$808abc9a3093f3ea)(employees, sortType);\n            default:\n                throw new Error(\"Wrong type!\");\n        }\n    }\n}\nconst $c83a851858cf2a8c$var$sortEmployees = new $c83a851858cf2a8c$var$SortEmployees();\nvar $c83a851858cf2a8c$export$2e2bcd8739ae039 = $c83a851858cf2a8c$var$sortEmployees;\n\n\n\"use strict\";\nclass $09e991522ca7e64e$var$Employee extends (0, $37d85e44191ae1ed$export$2e2bcd8739ae039) {\n    active = null;\n    sortType = {\n        name: \"asc\",\n        position: \"asc\",\n        office: \"asc\",\n        age: \"asc\",\n        salary: \"asc\"\n    };\n    constructor(){\n        super();\n        this.addListener();\n        this.sortEmployees = (0, $c83a851858cf2a8c$export$2e2bcd8739ae039).sortEmployees;\n    }\n    addListener() {\n        (0, $ff3840e7a85969d9$export$59d4b79733084898).addEventListener(\"click\", (e)=>{\n            const target = e.target;\n            const type = target.textContent.toLowerCase();\n            this.setSortType(type);\n            this.employees = this.sortEmployees(this.employees, type, this.sortType[type]);\n            this.drawEmployeeView(this.employees);\n        });\n    }\n    setSortType(type) {\n        if (type !== this.active) {\n            this.sortType[type] = \"asc\";\n            this.active = type;\n            return;\n        }\n        this.sortType[type] = this.sortType[type] === \"asc\" ? \"desc\" : \"asc\";\n        this.active = type;\n    }\n}\nconst $09e991522ca7e64e$var$employee = new $09e991522ca7e64e$var$Employee();\nvar $09e991522ca7e64e$export$2e2bcd8739ae039 = $09e991522ca7e64e$var$employee;\n\n\n//# sourceMappingURL=index.7ad69ae4.js.map\n","'use strict';\n\nimport { THEAD } from './constants/DomElements';\nimport EmployeeView from './employeeView';\nimport sortEmployees from './sortEmployees';\n\nclass Employee extends EmployeeView {\n  active = null;\n\n  sortType = {\n    name: 'asc',\n    position: 'asc',\n    office: 'asc',\n    age: 'asc',\n    salary: 'asc',\n  };\n\n  constructor() {\n    super();\n    this.addListener();\n    this.sortEmployees = sortEmployees.sortEmployees;\n  }\n\n  addListener() {\n    THEAD.addEventListener('click', (e) => {\n      const target = e.target;\n      const type = target.textContent.toLowerCase();\n\n      this.setSortType(type);\n\n      this.employees = this.sortEmployees(\n        this.employees,\n        type,\n        this.sortType[type],\n      );\n\n      this.drawEmployeeView(this.employees);\n    });\n  }\n\n  setSortType(type) {\n    if (type !== this.active) {\n      this.sortType[type] = 'asc';\n      this.active = type;\n\n      return;\n    }\n\n    this.sortType[type] = this.sortType[type] === 'asc' ? 'desc' : 'asc';\n    this.active = type;\n  }\n}\n\nconst employee = new Employee();\n\nexport default employee;\n","export const ROOT = document.querySelector('body');\nexport const TBODY = document.querySelector('tbody');\nexport const THEAD = document.querySelector('thead tr');\n","import employeesTableTemplate from './templates/employeesTableTemplate';\nimport employeeForm from './employeeForm';\nimport { ROOT, TBODY } from './constants/DomElements';\n\nconst enumEmployeeType = {\n  0: 'name',\n  1: 'position',\n  2: 'office',\n  3: 'age',\n  4: 'salary',\n};\n\nclass EmployeeView {\n  activeRow = null;\n\n  employees = [];\n\n  constructor() {\n    this.employees = this.getEmployeesData();\n    this.addRowListeners();\n\n    ROOT.append(employeeForm.createForm());\n  }\n\n  createTemplate(employees) {\n    return employees\n      .map((employee) => employeesTableTemplate(employee))\n      .join('');\n  }\n\n  getEmployeesData() {\n    const employees = [];\n\n    for (const row of TBODY.rows) {\n      const employee = Array.from(row.cells).reduce((acc, next, i) => {\n        acc[enumEmployeeType[i]] = next.textContent;\n\n        return acc;\n      }, {});\n\n      employees.push(employee);\n    }\n\n    return employees;\n  }\n\n  drawEmployeeView = (employees) => {\n    TBODY.innerHTML = this.createTemplate(employees);\n  };\n\n  addRowListeners() {\n    TBODY.addEventListener('click', (e) => {\n      const row = e.target.closest('tr');\n\n      if (row) {\n        this.changeActiveRow(row);\n      }\n    });\n  }\n\n  changeActiveRow(row) {\n    if (this.activeRow && this.activeRow !== row) {\n      this.activeRow.classList.remove('active');\n    }\n\n    this.activeRow = row;\n    this.activeRow.classList.add('active');\n  }\n}\n\nexport default EmployeeView;\n","const template = (employee) => `\n        <tr>\n          <td>${employee.name}</td>\n          <td>${employee.position}</td>\n          <td>${employee.office}</td>\n          <td>${employee.age}</td>\n          <td>${employee.salary}</td>\n        </tr>`;\n\nexport default template;\n","import { TBODY } from './constants/DomElements';\nimport notification from './notification';\nimport employeeFormTemplate from './templates/employeeFormTemplate';\nimport employeesTableTemplate from './templates/employeesTableTemplate';\nimport { numberToSalary } from './utils/formatSalary';\n\nclass EmployeeForm {\n  state = {\n    name: null,\n    position: null,\n    office: null,\n    age: null,\n    salary: null,\n  };\n\n  createForm() {\n    const form = document.createElement('form');\n\n    form.classList.add('new-employee-form');\n\n    form.innerHTML = employeeFormTemplate;\n\n    form.addEventListener('submit', this.handleSubmit);\n    form.addEventListener('change', this.handleChange);\n\n    return form;\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!this.isValid()) {\n      return;\n    }\n\n    const template = employeesTableTemplate(this.state);\n\n    TBODY.innerHTML += template;\n\n    notification('success', `The ${this.state.name} was added`);\n\n    this.reset();\n    e.target.reset();\n  };\n\n  isValid() {\n    const { age, position, office, salary } = this.state;\n\n    if (!this.state.name || !position || !age || !office || !salary) {\n      notification('error', `All the fields are required`);\n\n      return false;\n    }\n\n    if (this.state.name.length < 4) {\n      notification('error', `Minimum name length is 4 `);\n\n      return false;\n    }\n\n    if (!isNaN(this.state.name) || !isNaN(position)) {\n      notification('error', `Name and position must be string`);\n\n      return false;\n    }\n\n    if (age < 18 || age > 90) {\n      notification('error', `Age must be greater than 18 and less than 90`);\n\n      return false;\n    }\n\n    return true;\n  }\n\n  handleChange = (e) => {\n    if (e.target.name === 'salary') {\n      this.state[e.target.name] = numberToSalary(e.target.value);\n    } else {\n      this.state[e.target.name] = e.target.value;\n    }\n  };\n\n  reset() {\n    this.state = {\n      name: null,\n      position: null,\n      office: null,\n      age: null,\n      salary: null,\n    };\n  }\n}\n\nconst employeeForm = new EmployeeForm();\n\nexport default employeeForm;\n","const ROOT = document.querySelector('body');\n\nconst createDomNode = (type, classes) => {\n  const domNode = document.createElement(type);\n\n  domNode.classList.add(...classes);\n\n  return domNode;\n};\n\nconst notification = (type, title) => {\n  const container = createDomNode('div', ['notification', type]);\n\n  container.dataset.qa = 'notification';\n\n  container.innerHTML = `<h2 class=\"title\">${title}</h2>`;\n\n  ROOT.append(container);\n\n  setTimeout(() => {\n    container.style.display = 'none';\n  }, 2000);\n};\n\nexport default notification;\n","const template = `\n      <label for=\"name\">\n        Name:\n        <input\n          data-qa=\"name\"\n          type=\"text\"\n          name=\"name\"\n          id=\"name\"\n        />\n      </label>\n\n      <label for=\"position\">\n        Position:\n        <input\n          data-qa=\"position\"\n          type=\"text\"\n          name=\"position\"\n          id=\"position\"\n        />\n      </label>\n\n      <label for=\"office\">\n        Office:\n        <select name=\"office\" data-qa=\"office\">\n          <option\n            value=\"Tokyo\"\n            selected\n          >\n            Tokyo\n          </option>\n          <option value=\"Singapore\">Singapore</option>\n          <option value=\"London\">London</option>\n          <option value=\"New York\">New York</option>\n          <option value=\"Edinburgh\">Edinburgh</option>\n          <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n\n      <label for=\"age\">\n        Age:\n        <input\n          data-qa=\"age\"\n          type=\"number\"\n          name=\"age\"\n          id=\"age\"\n        />\n      </label>\n\n      <label for=\"salary\">\n        Salary:\n        <input\n          data-qa=\"salary\"\n          type=\"number\"\n          name=\"salary\"\n          id=\"salary\"\n        />\n      </label>\n\n      <button type=\"submit\">Save to table</button>`;\n\nexport default template;\n","export const salaryToNumber = (salary) => salary.replace(/[$,]/g, '');\n\nexport const numberToSalary = (number) => {\n  let result = '';\n  let counter = 0;\n\n  const numberToString = String(number);\n\n  for (let i = numberToString.length - 1; i >= 0; i--) {\n    result += numberToString[i];\n    counter += 1;\n\n    if (counter % 3 === 0 && i !== 0) {\n      result += ',';\n    }\n  }\n\n  result = `$${result.split('').reverse().join('')}`;\n\n  return result;\n};\n","import {\n  sorArrayOfObjecsByNumber,\n  sorArrayOfObjectsByString,\n  sortBySalary,\n} from './utils/sort';\n\nclass SortEmployees {\n  sortEmployees(employees, type, sortType) {\n    switch (type) {\n      case 'name':\n      case 'position':\n      case 'office':\n        return sorArrayOfObjectsByString(employees, type, sortType);\n      case 'age':\n        return sorArrayOfObjecsByNumber(employees, type, sortType);\n      case 'salary':\n        return sortBySalary(employees, sortType);\n\n      default:\n        throw new Error('Wrong type!');\n    }\n  }\n}\n\nconst sortEmployees = new SortEmployees();\n\nexport default sortEmployees;\n","import { salaryToNumber } from './formatSalary';\n\nexport const sorArrayOfObjecsByNumber = (arr, key, type = 'asc') =>\n  type === 'asc'\n    ? [...arr].sort((a, b) => a[key] - b[key])\n    : [...arr].sort((a, b) => b[key] - a[key]);\n\nexport const sorArrayOfObjectsByString = (arr, key, type = 'asc') =>\n  type === 'asc'\n    ? [...arr].sort((a, b) => a[key].localeCompare(b[key]))\n    : [...arr].sort((a, b) => b[key].localeCompare(a[key]));\n\nexport const sortBySalary = (employees, type = 'asc') => {\n  if (type === 'asc') {\n    return [...employees].sort(\n      (a, b) => salaryToNumber(a.salary) - salaryToNumber(b.salary),\n    );\n  }\n\n  return [...employees].sort(\n    (a, b) => salaryToNumber(b.salary) - salaryToNumber(a.salary),\n  );\n};\n"],"names":["$ff3840e7a85969d9$export$fbea82a1c0574ef4","document","querySelector","$ff3840e7a85969d9$export$1646ff658d018633","$ff3840e7a85969d9$export$59d4b79733084898","$632f16fd8e9a919c$export$2e2bcd8739ae039","employee","name","position","office","age","salary","$71d642b50f4f34fc$var$ROOT","$71d642b50f4f34fc$var$createDomNode","type","classes","domNode","createElement","classList","add","$71d642b50f4f34fc$export$2e2bcd8739ae039","title","container","dataset","qa","innerHTML","append","setTimeout","style","display","$098346a99d3f27f9$var$template","$9dcd52e4f83bda00$export$5cc41387108a21a4","replace","$9dcd52e4f83bda00$export$177a7f32e1eb2ece","number","result","counter","numberToString","String","i","length","split","reverse","join","$b5328ad001f3858c$var$employeeForm","state","createForm","form","addEventListener","handleSubmit","handleChange","e","preventDefault","isValid","template","reset","target","isNaN","value","$37d85e44191ae1ed$var$enumEmployeeType","$37d85e44191ae1ed$export$2e2bcd8739ae039","activeRow","employees","constructor","getEmployeesData","addRowListeners","createTemplate","map","row","rows","Array","from","cells","reduce","acc","next","textContent","push","drawEmployeeView","closest","changeActiveRow","remove","$d2f2d5bf9dc20c1e$export$fe4f7a3cec9ce3e6","arr","key","sort","a","b","$d2f2d5bf9dc20c1e$export$da07c9b2d0075182","localeCompare","$d2f2d5bf9dc20c1e$export$808abc9a3093f3ea","$c83a851858cf2a8c$var$sortEmployees","sortEmployees","sortType","Error","active","addListener","toLowerCase","setSortType"],"version":3,"file":"index.7ad69ae4.js.map"}